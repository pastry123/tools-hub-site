// This file is part of the bwip-js project available at:
//
//    http://metafloor.github.io/bwip-js
//
// Copyright (c) 2011-2025 Mark Warren
//
// This file contains code automatically generated from:
// Barcode Writer in Pure PostScript - Version 2025-04-19
// Copyright (c) 2004-2024 Terry Burton
//
// The MIT License
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.
//
"use strict";

(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        define([], factory);
    } else if (typeof module === 'object' && module.exports) {
        module.exports = factory();
    } else {
        root.bwipjs = factory();
    }
}(typeof self !== 'undefined' ? self : this, function () {
var $$=null;var $j=0;var $k=[];var $_={};function $a(a){if(!arguments.length){for(var i=$j-1;i>=0&&$k[i]!==Infinity;i--);if(i<0){throw new Error("array-marker-not-found")}a=$k.splice(i+1,$j-1-i);$j=i}else if(!(a instanceof Array)){a=new Array(+arguments[0]);for(var i=0,l=a.length;i<l;i++){a[i]=null}}a.b=a;a.o=0;return a}function $d(){for(var mark=$j-1;mark>=0&&$k[mark]!==Infinity;mark-=2){if($k[mark-1]===Infinity){throw new Error("dict-malformed-stack")}}if(mark<0){throw new Error("dict-not-found")}var dict={};for(var i=mark+1;i<$j;i+=2){var key=$k[i];var val=$k[i+1];if(typeof key!=="string"){throw new Error("dict-key-must-be-string")}dict[key]=val}$j=mark;return dict}function $g(p){if(p===undefined||p===null){return 0}return p}function $h(p){if(p===undefined||p===null){return null}return p}function $l(n){$k[$j++]=n}function $m(s){$k[$j++]=s}function $n(a){if(typeof a=="string"){$k[$j++]=a}else{for(var i=0,l=a.length;i<l;i++){$k[$j++]=a[i]}}}function $o(){$k.splice(--$j,1)}function $p(){return $k[--$j]}function $q(i){return $k[$j-1-i]}function $r(){var t=$k[$j-1];$k[$j-1]=$k[$j-2];$k[$j-2]=t}function $s(){$k[$j]=$k[$j-1];$j++}function $t(n){var l=$k.slice($j-n);$j-=n;$k[$j++]=l}function $u(){$k[$j++]=Infinity}function $v(){for(var i=$j-1;i>=0&&$k[i]!==Infinity;i--);if(i<0){throw new Error("mark-not-found")}$j=i}function $w(){for(var i=$j-1;i>=0&&$k[i]!==Infinity;i--);return $j-1-i}function $x(a,b){return a+b}function $y(a,b){return a-b}function $z(a,b){return a*b}function $A(a,b){return a/b}function $B(a){return -a}function $C(a){return Math.abs(a)}function $D(a){return Math.floor(a)}function $E(a){return Math.ceil(a)}function $F(a){return Math.round(a)}function $G(a,b){return a%b}function $H(a){return Math.sin(a)}function $I(a){return Math.cos(a)}function $J(a,b){return Math.atan2(a,b)}function $K(a,b){return Math.pow(a,b)}function $L(a){return Math.exp(a)}function $M(a){return Math.log(a)}function $N(a){return Math.sqrt(a)}function $O(){return Math.random()}function $P(a,b){return a<b}function $Q(a,b){return a<=b}function $R(a,b){return a>b}function $S(a,b){return a>=b}function $T(a,b){return a==b}function $U(a,b){return a!=b}function $V(a,b){return a&&b}function $W(a,b){return a||b}function $X(a){return!a}function $Y(a,b){return a&b}function $Z(a,b){return a|b}function $_(a,b){return a^b}function $ba(a){return~a}function $bb(a,b){return a<<b}function $bc(a,b){return a>>b}function $bd(s){return s.length}function $be(s){return String.fromCharCode.apply(null,s)}function $bf(s,i){return s.charCodeAt(i)}function $bg(s,i,n){return s.substr(i,n)}function $bh(s1,s2){return s1+s2}function $bi(s,c){return s.split(String.fromCharCode(c))}function $bj(s,c){return s.search(String.fromCharCode(c))}function $bk(s){return s.toUpperCase()}function $bl(s){return s.toLowerCase()}function $bm(a){return a.length}function $bn(a,i){return a[i]}function $bo(a,i,v){a[i]=v}function $bp(a,v){a.push(v)}function $bq(a){return a.pop()}function $br(a,i,n){return a.slice(i,i+n)}function $bs(a1,a2){return a1.concat(a2)}function $bt(a,i,n,v){for(var j=0;j<n;j++){a[i+j]=v}}function $bu(s,a){for(var i=0,l=s.length;i<l;i++){a.push(s.charCodeAt(i))}}function $bv(a){var s="";for(var i=0,l=a.length;i<l;i++){s+=String.fromCharCode(a[i])}return s}function $bw(){var callers=[];for(var i=0;i<arguments.length;i++){var name=arguments[i];callers.push(function(name){return function(){return $$[name].apply(this,arguments)}}(name))}return callers}const BWIPJS_VERSION="4.6.0 (2025-04-20)";function ToCanvas(t,e){if(typeof e=="string"||e instanceof HTMLCanvasElement){let r=t;t=e;e=r}return _ToAny(bwipp_lookup(e.bcid),e,t)}function _ToAny(r,t,e){if(typeof t=="string"){var i=document.getElementById(t)||document.querySelector(t);if(!(i instanceof HTMLCanvasElement)){throw new Error("bwipjs: `"+t+"`: not a canvas")}t=e;e=DrawingCanvas(i)}else if(t instanceof HTMLCanvasElement){var i=t;t=e;e=DrawingCanvas(i)}else if(typeof e=="string"){var i=document.getElementById(e)||document.querySelector(e);if(!(i instanceof HTMLCanvasElement)){throw new Error("bwipjs: `"+e+"`: not a canvas")}e=DrawingCanvas(i)}else if(e instanceof HTMLCanvasElement){e=DrawingCanvas(e)}var s=new r;try{Invoke(s,t);if(e){RenderOnCanvas(s,e)}}catch(o){throw new Error("bwipjs: "+o.message.replace(/^Error: /,""))}if(e){return e.canvas}else{return s.img}}function ToSVG(t,e){return _ToAny(bwipp_lookup(t.bcid),t,DrawingSVG()).toString()}function Render(t,e){return _ToAny(bwipp_lookup(t.bcid),t,e)}function ToRaw(t){return _ToAny(bwipp_lookup(t.bcid),t,null)}function DrawingCanvas(t){var e=t.getContext("2d");e.save();e.fillStyle="#000000";e.strokeStyle="#000000";var r=false;var i={canvas:t,g:e,_minx:0,_miny:0,_maxx:0,_maxy:0,_path:"",_page_width:0,_page_height:0,_bitmap_width:0,_bitmap_height:0,_tx:0,_ty:0,_width:1,_height:1,_colormap:{},_color_ndx:0};i.init=function(t,e,s,o,n,a){this._bitmap_width=t;this._bitmap_height=e;this._page_width=s||t;this._page_height=o||e;this._tx=n||0;this._ty=a||0;this.canvas.width=this._bitmap_width;this.canvas.height=this._bitmap_height;this.g.restore();this.g.save();this.g.scale(this._bitmap_width/this._page_width,this._bitmap_height/this._page_height);this.g.fillStyle="#ffffff";this.g.fillRect(0,0,this._page_width,this._page_height);this.g.fillStyle="#000000";this.g.translate(this._tx,this._ty)};i.line=function(t,e,s,o,n){this.g.lineWidth=n;this.g.beginPath();this.g.moveTo(t,this._page_height-e);this.g.lineTo(s,this._page_height-o);this.g.stroke()};i.polygon=function(t){if(!t.length){return}this.g.beginPath();this.g.moveTo(t[0][0],this._page_height-t[0][1]);for(var e=1;e<t.length;e++){this.g.lineTo(t[e][0],this._page_height-t[e][1])}this.g.closePath();this.g.fill()};i.ellipse=function(t,e,s,o,n){this.g.lineWidth=n;if(n){this.g.beginPath();this.g.ellipse(t,this._page_height-e,s/2,o/2,0,0,2*Math.PI);this.g.stroke()}};i.filled_ellipse=function(t,e,s,o){this.g.beginPath();this.g.ellipse(t,this._page_height-e,s/2,o/2,0,0,2*Math.PI);this.g.fill()};i.text=function(t,e,s,o,n,a){if(!s||!o||a===0){return}var u=this.g.font;this.g.font=o+"px "+s;this.g.textAlign="left";this.g.textBaseline="alphabetic";this.g.fillText(n,t,this._page_height-e)};i.image=function(t,e,s,o,n,a,u){};i.end=function(){this.g.restore()};return i}function DrawingSVG(){var t={_minx:0,_miny:0,_maxx:0,_maxy:0,_path:"",_page_width:0,_page_height:0,_bitmap_width:0,_bitmap_height:0,_tx:0,_ty:0,_width:1,_height:1,_colormap:{},_color_ndx:0};t.init=function(t,e,r,i,s,o){this._bitmap_width=t;this._bitmap_height=e;this._page_width=r||t;this._page_height=i||e;this._tx=s||0;this._ty=o||0;this._minx=this._page_width;this._miny=this._page_height;this._maxx=0;this._maxy=0;this._path=""};t.line=function(t,e,r,i,s){this._minx=Math.min(this._minx,Math.min(t,r)-s);this._miny=Math.min(this._miny,Math.min(e,i)-s);this._maxx=Math.max(this._maxx,Math.max(t,r)+s);this._maxy=Math.max(this._maxy,Math.max(e,i)+s);this._path+='<line x1="'+t+'" y1="'+e+'" x2="'+r+'" y2="'+i+'" stroke-width="'+s+'"/>'};t.polygon=function(t){if(!t.length){return}var e=t[0][0];var r=t[0][1];var i=e;var s=r;var o="M"+e+","+r;for(var n=1;n<t.length;n++){e=t[n][0];r=t[n][1];i=Math.min(i,e);s=Math.min(s,r);this._maxx=Math.max(this._maxx,e);this._maxy=Math.max(this._maxy,r);o+="L"+e+","+r}o+="Z";this._minx=Math.min(this._minx,i);this._miny=Math.min(this._miny,s);this._path+='<path d="'+o+'"/>'};t.ellipse=function(t,e,r,i,s){if(s){this._minx=Math.min(this._minx,t-r/2-s);this._miny=Math.min(this._miny,e-i/2-s);this._maxx=Math.max(this._maxx,t+r/2+s);this._maxy=Math.max(this._maxy,e+i/2+s);this._path+='<ellipse cx="'+t+'" cy="'+e+'" rx="'+(r/2)+'" ry="'+(i/2)+'" fill="none" stroke-width="'+s+'"/>'}};t.filled_ellipse=function(t,e,r,i){this._minx=Math.min(this._minx,t-r/2);this._miny=Math.min(this._miny,e-i/2);this._maxx=Math.max(this._maxx,t+r/2);this._maxy=Math.max(this._maxy,e+i/2);this._path+='<ellipse cx="'+t+'" cy="'+e+'" rx="'+(r/2)+'" ry="'+(i/2)+'"/>'};t.text=function(t,e,r,i,s,o){if(!r||!i||o===0){return}this._path+='<text x="'+t+'" y="'+e+'" font-family="'+r+'" font-size="'+i+'px">'+s.replace(/[<>&"']/g,function(t){return{'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"}[t]})+"</text>"};t.image=function(t,e,r,i,s,o,n){};t.end=function(){};t.toString=function(){var t=this._maxx-this._minx;var e=this._maxy-this._miny;var r='<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="'+this._minx+" "+this._miny+" "+t+" "+e+'">';r+='<g fill="#000000" stroke="#000000">';r+=this._path;r+="</g></svg>";return r};return t}function FixupOptions(t){t=t||{};if(!t.text){throw new Error("bwipjs: bar code text not specified.")}if(!t.bcid){throw new Error("bwipjs: bar code type not specified.")}var e={};for(var r in t){if(r==="bcid"){e.bcid=t.bcid}else if(r==="text"){e.text=String(t.text)}else if(r==="scale"||r==="scaleX"||r==="scaleY"){var i=+t[r];if(i>0){e[r]=i}}else if(r==="rotate"){var i=t.rotate;if(i==="R"||i===90||i==="L"||i===270||i==="I"||i===180){e.rotate=i}}else if(r==="paddingleft"||r==="paddingright"||r==="paddingtop"||r==="paddingbottom"||r==="backgroundcolor"){e[r]=t[r]}else if(r==="monochrome"){e.monochrome=!!t.monochrome}else if(r==="alttext"){e.alttext=!!t.alttext}else if(r!=="width"&&r!=="height"){e[r]=t[r]}}return e}function LoadFont(t,e){FontLib.loadFont(t,0,0,e)}var FontLib={fonts:{},monospace:16,lookup:function(t,e){return this.fonts[t]||this.fonts.ocrb||null},loadFont:function(t,e,r,i,s){if(this.fonts[t]){return}this.fonts[t]=new Font(t,e,r,i,s||1e4)}};function Font(t,e,r,i,s){this.name=t;this.width=e;this.height=r;this.bytes=toUint8Array(i);this.scale=s;var o=new DataView(this.bytes.buffer,this.bytes.byteOffset,this.bytes.byteLength);this.numTables=o.getUint16(4,false);var n=12;this.tables={};for(var a=0;a<this.numTables;a++){var u=String.fromCharCode(o.getUint8(n+0),o.getUint8(n+1),o.getUint8(n+2),o.getUint8(n+3));var f=o.getUint32(n+8,false);var l=o.getUint32(n+12,false);this.tables[u]={offset:f,length:l};n+=16}if(!this.tables.cmap){throw new Error(t+": cmap table not found")}if(!this.tables.glyf){throw new Error(t+": glyf table not found")}if(!this.tables.head){throw new Error(t+": head table not found")}if(!this.tables.hhea){throw new Error(t+": hhea table not found")}if(!this.tables.hmtx){throw new Error(t+": hmtx table not found")}if(!this.tables.loca){throw new Error(t+": loca table not found")}if(!this.tables.maxp){throw new Error(t+": maxp table not found")}this.parseHead();this.parseMaxp();this.parseHhea();this.parseHmtx();this.parseLoca();this.parseCmap()}Font.prototype.parseHead=function(){var t=new DataView(this.bytes.buffer,this.bytes.byteOffset+this.tables.head.offset,this.tables.head.length);this.unitsPerEm=t.getUint16(18,false);this.indexToLocFormat=t.getInt16(50,false);this.glyphDataFormat=t.getInt16(52,false)};Font.prototype.parseMaxp=function(){var t=new DataView(this.bytes.buffer,this.bytes.byteOffset+this.tables.maxp.offset,this.tables.maxp.length);this.numGlyphs=t.getUint16(4,false)};Font.prototype.parseHhea=function(){var t=new DataView(this.bytes.buffer,this.bytes.byteOffset+this.tables.hhea.offset,this.tables.hhea.length);this.numberOfHMetrics=t.getUint16(34,false)};Font.prototype.parseHmtx=function(){var t=new DataView(this.bytes.buffer,this.bytes.byteOffset+this.tables.hmtx.offset,this.tables.hmtx.length);this.hMetrics=[];for(var e=0;e<this.numberOfHMetrics;e++){this.hMetrics.push({advanceWidth:t.getUint16(e*4,false),lsb:t.getInt16(e*4+2,false)})}var r=this.hMetrics[this.numberOfHMetrics-1].advanceWidth;for(var e=this.numberOfHMetrics;e<this.numGlyphs;e++){this.hMetrics.push({advanceWidth:r,lsb:t.getInt16((this.numberOfHMetrics-1)*4+2+(e-this.numberOfHMetrics)*2,false)})}};Font.prototype.parseLoca=function(){var t=new DataView(this.bytes.buffer,this.bytes.byteOffset+this.tables.loca.offset,this.tables.loca.length);this.glyphOffsets=[];if(this.indexToLocFormat===0){for(var e=0;e<=this.numGlyphs;e++){this.glyphOffsets.push(t.getUint16(e*2,false)*2)}}else{for(var e=0;e<=this.numGlyphs;e++){this.glyphOffsets.push(t.getUint32(e*4,false))}}};Font.prototype.parseCmap=function(){var t=new DataView(this.bytes.buffer,this.bytes.byteOffset+this.tables.cmap.offset,this.tables.cmap.length);var e=t.getUint16(2,false);this.cmap={};for(var r=0;r<e;r++){var i=4+r*8;var s=t.getUint16(i,false);var o=t.getUint16(i+2,false);var n=t.getUint32(i+4,false);if((s===3&&o===1)||(s===0&&o===3)||(s===3&&o===10)){this.parseCmapSubtable(n);break}}};Font.prototype.parseCmapSubtable=function(t){var e=new DataView(this.bytes.buffer,this.bytes.byteOffset+this.tables.cmap.offset+t);var r=e.getUint16(0,false);if(r===4){this.parseCmapFormat4(e)}else if(r===12){this.parseCmapFormat12(e)}};Font.prototype.parseCmapFormat4=function(t){var e=t.getUint16(6,false);var r=[];var i=[];var s=[];var o=[];for(var n=0;n<e;n++){r.push(t.getUint16(14+n*2,false));i.push(t.getUint16(16+e*2+n*2,false));s.push(t.getInt16(18+e*4+n*2,false));o.push(t.getUint16(20+e*6+n*2,false))}for(var n=0;n<e;n++){if(r[n]===65535){break}for(var a=i[n];a<=r[n];a++){var u;if(o[n]===0){u=(a+s[n])&65535}else{var f=o[n]+(a-i[n])*2;u=t.getUint16(20+e*6+f,false);if(u!==0){u=(u+s[n])&65535}}if(u!==0){this.cmap[a]=u}}}};Font.prototype.parseCmapFormat12=function(t){var e=t.getUint32(12,false);for(var r=0;r<e;r++){var i=16+r*12;var s=t.getUint32(i,false);var o=t.getUint32(i+4,false);var n=t.getUint32(i+8,false);for(var a=s;a<=o;a++){this.cmap[a]=n+(a-s)}}};Font.prototype.stringWidth=function(t){var e=0;for(var r=0;r<t.length;r++){var i=t.charCodeAt(r);var s=this.cmap[i]||0;if(s<this.hMetrics.length){e+=this.hMetrics[s].advanceWidth}}return e*this.scale/this.unitsPerEm};function toUint8Array(data) {
    if (typeof data == "string") {
        var binary = /[^A-Za-z0-9+\/=\s]/.test(data);
        var bstr = binary ? data : atob(data),
            len = bstr.length,
            bytes = new Uint8Array(len);
        for (var i = 0; i < len; i++) {
            bytes[i] = bstr.charCodeAt(i);
        }
        return bytes;
    } else if (data instanceof Uint8Array) {
        return data;
    } else if (data instanceof ArrayBuffer) {
        return new Uint8Array(data);
    }
    throw new ReferenceError("data must be a binary or base64 encoded string or Uint8Array");
}

FontLib.loadFont("OCR-A", 100, 100, "AAEAAAAPAIAAAwBwRkZUTXxHoksAADPIAAAAHEdERUYAmQAGAAAyIAAAACBHUE9TuP+4/gAAM5gAAAAwR1NVQuq3l/0AADJAAAABWE9TLzKDm4kvAAABeAAAAGBjbWFwO6GiGgAAArgAAAFaZ2FzcP//AAMAADIYAAAACGdseWYfHUemAAAE8AAAKUBoZWFkFeCL3QAAAPwAAAA2aGhlYQcqAgQAAAE0AAAAJGhtdHgagBVHAAAB2AAAAOBsb2NhH+IWRAAABBQAAADabWF4cACxAF0AAAFYAAAAIG5hbWUIp3NfAAAuMAAAAoJwb3N0oJoboAAAMLQAAAFkAAEAAAACAAAhYPsHXw889QALA+gAAAAA2gMjvQAAAADaAyO9AD7/LAJ8BFIAAAAIAAIAAAAAAAAAAQAABFL/LABaAtMAAAAAAnwAAQAAAAAAAAAA");
FontLib.loadFont("OCR-B", 96, 100, "AAEAAAAPAIAAAwBwRkZUTXxHn14AADmUAAAAHEdERUYAkwAEAAA4IAAAACBHUE9TuP+4/gAAOWQAAAAwR1NVQnZYZVQAADhAAAABJE9TLzJa+GPlAAABeAAAAGBjbWFwzJGg2QAAA2QAAAFCZ2FzcP//AAMAADgYAAAACGdseWbm+CwyAAAFeAAALwRoZWFkFgqHXQAAAPwAAAA2aGhlYQeFAeAAAAE0AAAAJGhtdHgIFCYVAAAB2AAAAYpsb2NhZAZYlAAABKgAAADObWF4cACtAGkAAAFYAAAAIG5hbWWukZg3AAA0fAAAAnlwb3N0tfQXywAANvgAAAEdAAEAAAACAADO4NltXw889QALA+gAAAAA2gMiKgAAAADaAyIqAA7/GQLWAwsAAAAIAAIAAAAAAAAAAQAABFL+sABaAtMAAP/9AtYAAQAAAAAAAAAAA");
    return {
        toCanvas:ToCanvas, toSVG:ToSVG, render:Render, raw:ToRaw,
        drawingCanvas:DrawingCanvas, drawingSVG:DrawingSVG,
        fixupOptions:FixupOptions, loadFont:LoadFont, FontLib:FontLib,
        BWIPJS_VERSION:BWIPJS_VERSION, BWIPP_VERSION:BWIPP_VERSION,
    };
}));